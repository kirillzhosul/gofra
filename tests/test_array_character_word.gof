/// Test that storing an word in array as characters and printing it shows that word

#include "std/os/io/output.gof"
#include "std/os/general.gof"
#define TESTKIT_EXPECTED_EXIT_CODE 0
#define TESTKIT_EXPECTED_STDOUT "Global\nLocal\n"

var global char[7];

func void test_array_global_character_word[]
    var sv string;

    &global[0] 'G'  !<
    &global[1] 'l'  !<
    &global[2] 'o'  !<
    &global[3] 'b'  !<
    &global[4] 'a'  !<
    &global[5] 'l'  !<
    &global[6] '\n' !<

    &sv.data &global !<
    &sv.len 7 !<

    &sv print

    return
end

func void test_array_local_character_word[]
    var local char[6]
    var sv string;
    
    &local[0] 'L'  !<
    &local[1] 'o'  !<
    &local[2] 'c'  !<
    &local[3] 'a'  !<
    &local[4] 'l'  !<
    &local[5] '\n' !<

    &sv.data &local !<
    &sv.len 6 !<

    &sv print
    return
end

no_return func void main[]
    // TODO: Allow testkit to specify these cases as separate tests
    call test_array_global_character_word
    call test_array_local_character_word

    0 exit // TODO: This must be resolved as this raises an segmentation fault if not within exit
end